<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Research: Audio Sensors</title>
    <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111</link>
    <description>**Research Paper Analysis**
*On the Design of a Bioacoustic Sensor for the Early Detection of the Red Palm Weevil*
[link][1]

**Abstract**

&gt; During the last two decades Red Palm Weevil (RPW, Rynchophorus Ferrugineus) has become one of the most dangerous threats to palm trees in many parts of the World. Its early detection is difficult, since palm trees do not show visual evidence of infection until it is too late for them to recover. For this reason the development of efficient early detection mechanisms is a critical element of RPW pest management systems. One of the early detection mechanisms proposed in the literature is based on acoustic monitoring, as the activity of RPW larvae inside the palm trunk is audible for human operators under acceptable environmental noise levels (rural areas, night periods, etc.). In this work we propose the design of an autonomous bioacoustic sensor that can be installed in every palm tree under study and is able to analyze the captured audio signal during large periods of time. The results of the audio analysis would be reported wirelessly to a control station, to be subsequently processed and conveniently stored. That control station is to be accessible via the Internet. It is programmed to send warning messages when predefined alarm thresholds are reached, thereby allowing supervisors to check on-line the status and evolution of the palm tree orchards. We have developed a bioacoustic sensor prototype and performed an extensive set of experiments to measure its detection capability, achieving average detection rates over 90%.

**Introduction**

&gt; In this paper, we design and develop a bioacoustic sensor prototype which efficiently detects the
&gt; sounds produced by RPW larvae after the first infestation stages. The proposed bioacoustic sensor is
&gt; able to: 

&gt;  - (1) effectively detect the RPW presence with high detection rates (over 90%); 
&gt;  - (2) perform monitoring tests at user programmable frequencies in order to achieve a fast detection response;
&gt;  - (3) work autonomously during large periods of time (at least one year); 
&gt;  - (4) work without maintenance requirements after installation;
&gt;  - (5) form a wireless sensor network to cover from little orchards to
&gt;    large plantation extensions;
&gt;  - (6) allow continuous monitoring activity, since data may be checked
&gt;    on-line in real-time through an Internet connection with the control
&gt;    station;
&gt;  - (7) trigger an alarm system defined at the control station to warn supervisors about the desired events by means of e-mail, Short Message System (SMS), Instantaneous Message System (IMS), etc.

**Microcontroller**

&gt;  - Jennic (now NXP) model number [JN5148-001][2]
&gt;  - Low power operation modes, from 1.5 uA in sleep mode, and close to 200 mA in full power mode with all peripherals working on.
&gt;  - Thirty two-bits RISC pipelined processor.
&gt;  - One memory of 128 KB ROM and one memory of 128 KB RAM, large enough to store program and data used to perform the bioacoustic detection of the RPW.
&gt;  - Wireless 2.4 GHz, IEEE 802.15.4 compliant transceiver, with ZigBee network support.
&gt;  - Up to 21 general purpose digital inputs/outputs.
&gt;  - Twelve bit ADC with a maximum sampling frequency of 100 kHz.
&gt;  - Four wire interface for digital audio.

**Power Consumption**

&gt;  - Regarding the power supply, the bioacoustic sensor measured consumption rises up to 200 mA when performing detection process.
&gt;  - When sensor wakes up from sleep mode, it enters running mode, where all the required systems are turned on, and the RPW detection software starts to work during a limited period of time (between 5 and 10 minutes, although it may be programmable).
&gt;  - This working behaviour is periodically repeated during the life of the sensor node,
&gt; performing between 3 and 12 audio analysis a day (again this may be modified). In the best case, a battery of 2,000 mAh works for no more than one month.

**Power Unit**

&gt;  - Supercapacitor at 500 mA of one hour of continuous operation.
&gt;  - 8 miniature solar cells wired in parallel generating around 350 mA.
&gt;  - Every cell works at 3.0 volts and is able to give 45 mA, with dimensions: 54 mm × 43 mm × 3.0 mm (L × W × D).
&gt;  - The current produced by solar cells is supplied to a Low Dropout  (LDO) Linear Voltage Regulator (LT3085 from Linear Technology), to adjust the solar cells voltage to the input range demanded by   supercapacitor, which operates at 2.3 volts. The output of the supercapacitor powers the sensor board using a Step-Up Voltage Regulator (L6920 from STMicroelectronics) to properly adjust capacitor’s voltage to that required by the sensor board.

**Radio Interface**

&gt;  - The radio interface is up to create a reliable point-to-point outdoor communication over distances of 30 meters. Nominal values from manufacturer are larger, but they can be achieved only in optimal conditions of no EMI interferences, higher transmission power (up to 20 dBm), and particular antenna arrangement and orientation.

**Audio Probe**

&gt;  - To decide the appropriate audio probe design, we have analyzed the features of RPW sound: (a) studying previous works like [11–13], (b) performing a preliminary spectral and temporal analysis of available RPW audio recordings, and (c) taking into account several aspects, as probe insertion into palm trees, environmental noise levels, signal adjust conditioning parameters (i.e., signal amplification and    filtering) among others, by means of laboratory and field tests.

**Microphone**

&gt;  - We used also [KINGSTATE KECG2740PBJ][3], a 6 mm external diameter and
&gt;    length of 2.7 mm, with a sensitivity of –40 dB at 1 kHz.

**Signal Conditioning: Filtering and Amplification Stage**

&gt; Once we have defined the audio sensor and the probe, we need to perform some signal conditioning to deliver the microphone output signal to the A/D converter with the highest possible quality. The main issue here is the amplification stage, which is a well-known problem with lots of solutions. In this case, not all of these solutions are convenient, because the bioacoustic sensor has a set of requirements that limits the design: (1) it has to be powered by batteries, so the use of high and bipolar voltages should be avoided, and (2) sensor signal output has to be largely amplified, in the whole range of frequencies, up to 10 kHz.

&gt; To fit the requirements, we have used a Texas Instruments TLV2785 operational amplifier. This chip includes four operational amplifiers, with single supply since 1.8 V up to 3.6 V, and a supply current of less than 1 mA per channel, very convenient for battery operated devices. In addition, amplifiers may be shutdown to save battery when the device is not capturing sound. Its bandwidth is 8 MHz, allowing gains of more than 50 dB for a cut off frequency of 10 kHz.

&gt; A PCB board has been designed, where two of the operational amplifiers are used to amplify the microphone output. Two additional amplifiers are used to create an active low pass filter at 10 kHz, to avoid aliases in the digital part of acquisition chain. This board is inserted in a plastic box, with an RCA connector for the microphone, a potentiometer to adjust the desired gain, and two jack outputs, one for the headphones and the other for the connection with an analog input of a microcontroller (a prototype is shown at Figure 5). The goal of this design is the modularity and flexibility of the device: different microphones may be connected to the amplifier, it can be used by a human operator listening through headphones, or it can be connected to the microcontroller for the autonomous detection.

 - Texas Instruments [TLV2785][4] operational amplifier

**Bioacoustic Sensor: Software Description**

&gt; In running mode, the first operation performed by the sensor node is to configure and initialize the audio system with the parameters established at the initialization stage (sample bits, sampling rate, window size, etc.). Then, a Signal-to-Noise Ratio (SNR) measurement test is executed to determine the actual noise level before the audio analysis procedure;

&gt; In our studies we have chosen 4096-sample fixed size windows with the minimal overlapping that prevents potential losses of RPW signals located at window edges.

&gt; Once we have captured a window of audio samples, we proceed to apply our RPW analysis algorithm. If this window contains one or more RPW audio signals, the analysis results are time stamped and stored as part of the running mode analysis report.

**RPW Sound Model**

&gt; We have classified three different kinds of sounds coming from RPW larvae: “eating”, “squealing” and “moving”.

&gt; For our study, we have chosen the first one, “eating”, because (1) it is the loudest sound, (2) its frequency is clearly superior to the other identified sounds in all available recordings, and (3) it is representative of the RPW larvae feeding actions in the first stages of their evolution.

&gt; Figure 7 shows a good example of “eating” sound that was extracted from the recordings above mentioned. We can see the “eating” sound in both temporal, Figure 7(a), and frequency domains, Figure 7(b). The later was obtained from a wavelet packet transform with five decomposition levels that equally divides the input audio signal bandwidth in 32 subbands (horizontal axis). For each wavelet subband, we have computed the normalized energy of its coefficients in order to visually determine the energy distribution. As it can be seen, in Figure 7(b), there are three subbands that accumulate most of the signal energy. Thus, energy distribution across wavelet subbands may be considered a spectral fingerprint of RPW feeding activity, being an important feature to be included in our RPW “eating” sound model.


&gt; We also analyze the “eating” sample in the temporal domain, determining its main duration in terms of audio samples. We need to determine the beginning and ending positions of “eating” sound inside captured audio window using three parameters: audio signal level, signal variance, and SNR level, as shown in Figure 7(a). With the SNR level we determine the noise domain present in the captured audio, which is the actual noise level plus a 6 dB margin. The beginning of a new sound will be determined by α consecutive samples which value is above noise domain; meanwhile, the ending of the new sound will be determined just before β consecutive samples, which value falls inside noise domain. Both parameters are empirically established to properly identify potential RPW sounds. It can be seen in Figure 7(a) that the RPW “eating” temporal extension is of 492 samples (around 11 milliseconds).


&lt;img src=&quot;/uploads/default/145/8ccfdc3fe790c4d2.png&quot; width=&quot;690&quot; height=&quot;328&quot;&gt; 


  [1]: https://drive.google.com/open?id=0Bz7WbjRT9mlmSWtpU3NGb0FGWFk&amp;authuser=0
  [2]: http://www.jennic.com/products/modules/
  [3]: http://www.newark.com/kingstate/kecg2740pbj/microphone-miniature-electret/dp/24M3209
  [4]: http://www.ti.com/product/tlv2785</description>
    
    <lastBuildDate>Tue, 14 Apr 2015 19:40:08 -0400</lastBuildDate>
    <category>Sensor Kits</category>
    <atom:link href="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@Clemens Clemens Gruber)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/clemens">Clemens Gruber</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="12" data-topic="111"><div class="title">
<div class="quote-controls"></div>
<img width="20" height="20" src="/letter_avatar/clemens/40/2.png" class="avatar">Clemens said:</div>
<blockquote><p>third "warble" and "hiss" described by Eddie Woods, I have found this only by Eddie Woods so it seems nobody has replicate this, but it could be worth to investigate this in deep.</p></blockquote></aside>

<p>Must correct myself: <a href="http://www.apimondia.com/congresses/2013/Economy/Plenary-Session/Remote%20Hive%20Monitoring%20-%20Huw%20Evans%20Beng.pdf" rel="nofollow">http://www.apimondia.com/congresses/2013/Economy/Plenary-Session/Remote%20Hive%20Monitoring%20-%20Huw%20Evans%20Beng.pdf</a></p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/13">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/13</link>
        <pubDate>Tue, 14 Apr 2015 19:40:08 -0400</pubDate>
        <guid isPermaLink="false">post-111-13</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@Clemens Clemens Gruber)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/clemens">Clemens Gruber</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="3" data-topic="111"><div class="title">
<div class="quote-controls"></div>
<img width="20" height="20" src="/letter_avatar/ron/40/2.png" class="avatar">ron said:</div>
<blockquote><p>which frequencies we'll focus on?</p></blockquote></aside>

<p>Hi Ron, have you scanned this thread: <a href="http://www.imkerforum.de/showthread.php?t=32478" rel="nofollow">http://www.imkerforum.de/showthread.php?t=32478</a> </p>

<p>I think there are some different sound sources you can inspect and monitor</p>

<ul>
<li>
<strong>toot and quack</strong> of the emerging and "regnant" queens, see Seeley, Honeybee Democracy for a description of time pattern imkerforum.de/showthread.php?t=29251&amp;p=347733#post347733</li>
<li><p>you can find ongoing links about the frequencies under mkerforum.de/showthread.php?t=29251&amp;p=357496#post357496 </p></li>
<li><p>second would bee <strong>worker piping</strong> right before swarming, also described by Seeley<br>imkerforum.de/showthread.php?t=32478&amp;p=349281#post349281</p></li>
<li><p>third <strong>"warble" and "hiss"</strong> described by Eddie Woods, I have found this only by Eddie Woods so it seems nobody has replicate this, but it could be worth to investigate this in deep. </p></li>
</ul>

<p>Other non-swarm related acoustic indicators can be found here:<br>colonymonitoring.com/cmwp/five-components/sensing/colony-acoustics/</p>

<p>Btw. I don't know if we need really a high <strong>sampling rate</strong>. Monitor every one or five second could perhaps be sufficient. </p>

<p>And it could be interesting to move the calculation of the frequency bins out of software to a dedicated hardware device. Cortex M3 is nice, but power hungry and I think bee monitoring makes only sense with a battery powered or solar device.</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/12">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/12</link>
        <pubDate>Tue, 14 Apr 2015 16:15:20 -0400</pubDate>
        <guid isPermaLink="false">post-111-12</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@trizcs Tristan Copley Smith)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/trizcs">Tristan Copley Smith</a> wrote:</p>
          <blockquote>
              <p>Thats great data <a class="mention" href="/users/ron">@ron</a>!</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/11">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/11</link>
        <pubDate>Thu, 12 Feb 2015 20:50:43 -0500</pubDate>
        <guid isPermaLink="false">post-111-11</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@ron Ron Jacob)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/ron">Ron Jacob</a> wrote:</p>
          <blockquote>
              <p>Bee's only seem to recognize frequencies up to 500Hz - quite good point for our sensor:<br>see:</p>

<p><a href="http://www.apidologie.org/articles/apido/pdf/1993/03/Apidologie_0044-8435_1993_24_3_ART0009.pdf" class="onebox" target="_blank">http://www.apidologie.org/articles/apido/pdf/1993/03/Apidologie_0044-8435_1993_24_3_ART0009.pdf</a></p>

<p>for more information</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/10">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/10</link>
        <pubDate>Thu, 12 Feb 2015 06:57:49 -0500</pubDate>
        <guid isPermaLink="false">post-111-10</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@ron Ron Jacob)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/ron">Ron Jacob</a> wrote:</p>
          <blockquote>
              <p>Sounds like good data! <img src="/plugins/emoji/images/wink.png" title=":wink:" class="emoji" alt="wink" width="20" height="20"><br>I think we'll finish the alpha board technically with temp, humidity, audio, ingoing/outgoing and weight sensors, built a proper version of it end than make it ready to share so we can have a look how to connect and impove it inside the hive.</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/9">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/9</link>
        <pubDate>Fri, 23 Jan 2015 05:37:22 -0500</pubDate>
        <guid isPermaLink="false">post-111-9</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@Jagungal Cormac Farrell)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/jagungal">Cormac Farrell</a> wrote:</p>
          <blockquote>
              <p>Finally managed to get the large file transfer working - <a class="mention" href="/users/ron">@ron</a> you should have an email in your inbox now, just click on the link and the high definition audio file will download.  </p>

<p>This is in mono only, and is basically exactly as the Tascam unit records it.  </p>

<p>Down the track if you send us the schematics or a completed sample of the apha kit we can run it in paralell with the current recorder to set a baseline and test if a bit more.  Our office apiary is on a balcony and has access to wi-fi and power - you can see the set-up here:<br><a href="https://photosbykris.exposure.co/aurecons-urban-bee-colony" class="onebox" target="_blank" rel="nofollow">https://photosbykris.exposure.co/aurecons-urban-bee-colony</a></p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/8">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/8</link>
        <pubDate>Fri, 23 Jan 2015 00:23:53 -0500</pubDate>
        <guid isPermaLink="false">post-111-8</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@Jagungal Cormac Farrell)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/jagungal">Cormac Farrell</a> wrote:</p>
          <blockquote>
              <p>No problem - email sent to you <a class="mention" href="/users/ron">@ron</a>.  I have already sent about 100GB of samples to Aaron, and these are high definition .wav files, so they should fit the bill nicely.  The downside is that they are huge - the smallest one is 400Mb, and most are 2.1GB, so moving them via email is not really an option.  </p>

<p>Not sure how physically close you are to each other - a disc with just under 400GB of data is on its way to Aaron now, and should arrive sometime next week.  </p>

<p>Our queen died last week, and they should be replacing her now - we have had the recorder going continually to see if we can catch the piping from the new queens before they hatch, which would be fun.</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/7">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/7</link>
        <pubDate>Thu, 22 Jan 2015 23:01:46 -0500</pubDate>
        <guid isPermaLink="false">post-111-7</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@trizcs Tristan Copley Smith)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/trizcs">Tristan Copley Smith</a> wrote:</p>
          <blockquote>
              <p>Hey <a class="mention" href="/users/jagungal">@Jagungal</a> - we're wanting to test the new audio sensor - could you send some of the new high quality audio to <a class="mention" href="/users/ron">@ron</a>? His email is ron.martin.jacob@googlemail.com</p>

<p><a class="mention" href="/users/ron">@ron</a> perhaps you'd like to describe exactly what you'd like him to send, since theres a lot of audio!</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/6">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/6</link>
        <pubDate>Thu, 22 Jan 2015 11:58:46 -0500</pubDate>
        <guid isPermaLink="false">post-111-6</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@ron Ron Jacob)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/ron">Ron Jacob</a> wrote:</p>
          <blockquote>
              <p>I got some data from Aaron.<br>would be great to have access to more data ( in an uncompressed or high quality compressed format - mp3 is quite bad for analysis) to run the analysis over a lot of samples to get to know possible pitch-frequencies.</p>

<p>thanks!</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/5">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/5</link>
        <pubDate>Thu, 22 Jan 2015 10:42:42 -0500</pubDate>
        <guid isPermaLink="false">post-111-5</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@trizcs Tristan Copley Smith)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/trizcs">Tristan Copley Smith</a> wrote:</p>
          <blockquote>
              <p>Nice work <a class="mention" href="/users/ron">@ron</a>!</p>

<p>We now how over 400GB of high definition audio thats been recorded from our collaborators in Australia - would you like to take some samples from that and check them out for a test?</p>

<p>How is development going in general <a class="mention" href="/users/jonathan">@jonathan</a> and <a class="mention" href="/users/ron">@ron</a>? Are we looking on track for our release time?  </p>

<p>Nice work guys.</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/4">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/4</link>
        <pubDate>Thu, 22 Jan 2015 10:32:28 -0500</pubDate>
        <guid isPermaLink="false">post-111-4</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@ron Ron Jacob)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/ron">Ron Jacob</a> wrote:</p>
          <blockquote>
              <p><strong>Prototype for apidictor/frequency analysis done</strong></p>

<p>I'm happy to present our newest sensor: a microphone with an attached amplifier circuit and low pass filter with 1,6kHz shut-off frequency. In short: usable as a <em>frequency spectrum analyser</em></p>

<p>That's the circuit, actually similar to <a href="https://www.sparkfun.com/products/9964">this breakout</a> from sparkfun but with different capacitors to low pass the audio signal at about 1600 Hz which turns in a less noisy signal. More about that on the <a href="https://github.com/jacobron/OSBH/tree/master/audio_sensor">github repository</a>.<br><div class="lightbox-wrapper"><a href="/uploads/default/205/feda5c669523970b.jpg" class="lightbox" title="IMG_20150122_135038.jpg"><img src="/uploads/default/_optimized/839/1ab/041f131f0d_690x379.jpg" width="690" height="379"><div class="meta">
<span class="filename">IMG_20150122_135038.jpg</span><span class="informations">1948x1072 577 KB</span><span class="expand"></span>
</div></a></div> </p>

<p>The Cortex M3 is quite strong enough to perform a middle class quality fast fourier transformation of about 400 samples. I used the <a href="https://github.com/benswift/kiss_fft">kiss fft library</a> for that. Depending on the sampling frequency we're able to receive frequency bins of about 2 Hz. Higher sampling frequency means we're able to detect higher frequencies, but also means we're loosing accuracy. Here are some data I received from the spark playing my guitar with a sampling frequency of about 1000Hz (means we're able to detect frequencies up to about 1000/2,2Hz)</p>

<p><div class="lightbox-wrapper"><a href="/uploads/default/204/6d616b06f792c855.png" class="lightbox" title="frequencyexample.png"><img src="/uploads/default/_optimized/e23/b87/f1122a148b_508x500.png" width="508" height="500"><div class="meta">
<span class="filename">frequencyexample.png</span><span class="informations">1036x1018 62.9 KB</span><span class="expand"></span>
</div></a></div> </p>

<p>Still that's a try and there's alot to go still.<br>Important points we'll have to discuss about are:</p>

<ul>
<li>which frequencies we'll focus on?</li>
<li>how exact the fourier transformation needs to be?</li>
<li>the guitar example is a quite easy job compared to listening to a bee hive and sourrounding noises. How do better the outcome of the fft? -&gt; best would be to keep the data as small but also raw as possible to perform data analysis later on</li>
</ul>

<p>btw: thanks to <a href="https://community.spark.io/t/beehive-monitor-udp-sleep-thermistor-wifi-antenna-adc-speed-ram/4524/43">phec's work on that</a><br><a class="mention" href="/users/serdmanczyk">@serdmanczyk</a> thanks for the post on the fft! - any further ideas now?<br><a class="mention" href="/users/ghellard">@ghellard</a> do you have any information on which frequencies to focus on?</p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/3">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/3</link>
        <pubDate>Thu, 22 Jan 2015 08:54:07 -0500</pubDate>
        <guid isPermaLink="false">post-111-3</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@AaronM Aaron Makaruk)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/aaronm">Aaron Makaruk</a> wrote:</p>
          <blockquote>
              <p><strong>The Fourier Transform, explained in one sentence</strong><br><a href="http://blog.revolutionanalytics.com/2014/01/the-fourier-transform-explained-in-one-sentence.html">source</a><br><img src="http://revolution-computing.typepad.com/.a/6a010534b1db25970b019b0172129c970c-800wi" width="377" height="166"></p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/2">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/2</link>
        <pubDate>Fri, 24 Oct 2014 18:59:42 -0400</pubDate>
        <guid isPermaLink="false">post-111-2</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
      <item>
        <title>Research: Audio Sensors</title>
        <author>no-reply@example.com (@AaronM Aaron Makaruk)</author>
        <description><![CDATA[
          <p><a href="http://community.opensourcebeehives.net/users/aaronm">Aaron Makaruk</a> wrote:</p>
          <blockquote>
              <p><strong>Research Paper Analysis</strong><br><em>On the Design of a Bioacoustic Sensor for the Early Detection of the Red Palm Weevil</em><br><a href="https://drive.google.com/open?id=0Bz7WbjRT9mlmSWtpU3NGb0FGWFk&amp;authuser=0">link</a></p>

<p><strong>Abstract</strong></p>

<blockquote><p>During the last two decades Red Palm Weevil (RPW, Rynchophorus Ferrugineus) has become one of the most dangerous threats to palm trees in many parts of the World. Its early detection is difficult, since palm trees do not show visual evidence of infection until it is too late for them to recover. For this reason the development of efficient early detection mechanisms is a critical element of RPW pest management systems. One of the early detection mechanisms proposed in the literature is based on acoustic monitoring, as the activity of RPW larvae inside the palm trunk is audible for human operators under acceptable environmental noise levels (rural areas, night periods, etc.). In this work we propose the design of an autonomous bioacoustic sensor that can be installed in every palm tree under study and is able to analyze the captured audio signal during large periods of time. The results of the audio analysis would be reported wirelessly to a control station, to be subsequently processed and conveniently stored. That control station is to be accessible via the Internet. It is programmed to send warning messages when predefined alarm thresholds are reached, thereby allowing supervisors to check on-line the status and evolution of the palm tree orchards. We have developed a bioacoustic sensor prototype and performed an extensive set of experiments to measure its detection capability, achieving average detection rates over 90%.</p></blockquote>

<p><strong>Introduction</strong></p>

<blockquote>
<p>In this paper, we design and develop a bioacoustic sensor prototype which efficiently detects the<br>sounds produced by RPW larvae after the first infestation stages. The proposed bioacoustic sensor is<br>able to: </p>
<ul>
<li>(1) effectively detect the RPW presence with high detection rates (over 90%); </li>
<li>(2) perform monitoring tests at user programmable frequencies in order to achieve a fast detection response;</li>
<li>(3) work autonomously during large periods of time (at least one year); </li>
<li>(4) work without maintenance requirements after installation;</li>
<li>(5) form a wireless sensor network to cover from little orchards to<br>large plantation extensions;</li>
<li>(6) allow continuous monitoring activity, since data may be checked<br>on-line in real-time through an Internet connection with the control<br>station;</li>
<li>(7) trigger an alarm system defined at the control station to warn supervisors about the desired events by means of e-mail, Short Message System (SMS), Instantaneous Message System (IMS), etc.</li>
</ul>
</blockquote>

<p><strong>Microcontroller</strong></p>

<blockquote><ul>
<li>Jennic (now NXP) model number <a href="http://www.jennic.com/products/modules/">JN5148-001</a>
</li>
<li>Low power operation modes, from 1.5 uA in sleep mode, and close to 200 mA in full power mode with all peripherals working on.</li>
<li>Thirty two-bits RISC pipelined processor.</li>
<li>One memory of 128 KB ROM and one memory of 128 KB RAM, large enough to store program and data used to perform the bioacoustic detection of the RPW.</li>
<li>Wireless 2.4 GHz, IEEE 802.15.4 compliant transceiver, with ZigBee network support.</li>
<li>Up to 21 general purpose digital inputs/outputs.</li>
<li>Twelve bit ADC with a maximum sampling frequency of 100 kHz.</li>
<li>Four wire interface for digital audio.</li>
</ul></blockquote>

<p><strong>Power Consumption</strong></p>

<blockquote><ul>
<li>Regarding the power supply, the bioacoustic sensor measured consumption rises up to 200 mA when performing detection process.</li>
<li>When sensor wakes up from sleep mode, it enters running mode, where all the required systems are turned on, and the RPW detection software starts to work during a limited period of time (between 5 and 10 minutes, although it may be programmable).</li>
<li>This working behaviour is periodically repeated during the life of the sensor node,<br>performing between 3 and 12 audio analysis a day (again this may be modified). In the best case, a battery of 2,000 mAh works for no more than one month.</li>
</ul></blockquote>

<p><strong>Power Unit</strong></p>

<blockquote><ul>
<li>Supercapacitor at 500 mA of one hour of continuous operation.</li>
<li>8 miniature solar cells wired in parallel generating around 350 mA.</li>
<li>Every cell works at 3.0 volts and is able to give 45 mA, with dimensions: 54 mm × 43 mm × 3.0 mm (L × W × D).</li>
<li>The current produced by solar cells is supplied to a Low Dropout  (LDO) Linear Voltage Regulator (LT3085 from Linear Technology), to adjust the solar cells voltage to the input range demanded by   supercapacitor, which operates at 2.3 volts. The output of the supercapacitor powers the sensor board using a Step-Up Voltage Regulator (L6920 from STMicroelectronics) to properly adjust capacitor’s voltage to that required by the sensor board.</li>
</ul></blockquote>

<p><strong>Radio Interface</strong></p>

<blockquote><ul><li>The radio interface is up to create a reliable point-to-point outdoor communication over distances of 30 meters. Nominal values from manufacturer are larger, but they can be achieved only in optimal conditions of no EMI interferences, higher transmission power (up to 20 dBm), and particular antenna arrangement and orientation.</li></ul></blockquote>

<p><strong>Audio Probe</strong></p>

<blockquote><ul><li>To decide the appropriate audio probe design, we have analyzed the features of RPW sound: (a) studying previous works like [11–13], (b) performing a preliminary spectral and temporal analysis of available RPW audio recordings, and (c) taking into account several aspects, as probe insertion into palm trees, environmental noise levels, signal adjust conditioning parameters (i.e., signal amplification and    filtering) among others, by means of laboratory and field tests.</li></ul></blockquote>

<p><strong>Microphone</strong></p>

<blockquote><ul><li>We used also <a href="http://www.newark.com/kingstate/kecg2740pbj/microphone-miniature-electret/dp/24M3209">KINGSTATE KECG2740PBJ</a>, a 6 mm external diameter and<br>length of 2.7 mm, with a sensitivity of –40 dB at 1 kHz.</li></ul></blockquote>

<p><strong>Signal Conditioning: Filtering and Amplification Stage</strong></p>

<blockquote>
<p>Once we have defined the audio sensor and the probe, we need to perform some signal conditioning to deliver the microphone output signal to the A/D converter with the highest possible quality. The main issue here is the amplification stage, which is a well-known problem with lots of solutions. In this case, not all of these solutions are convenient, because the bioacoustic sensor has a set of requirements that limits the design: (1) it has to be powered by batteries, so the use of high and bipolar voltages should be avoided, and (2) sensor signal output has to be largely amplified, in the whole range of frequencies, up to 10 kHz.</p>
<p>To fit the requirements, we have used a Texas Instruments TLV2785 operational amplifier. This chip includes four operational amplifiers, with single supply since 1.8 V up to 3.6 V, and a supply current of less than 1 mA per channel, very convenient for battery operated devices. In addition, amplifiers may be shutdown to save battery when the device is not capturing sound. Its bandwidth is 8 MHz, allowing gains of more than 50 dB for a cut off frequency of 10 kHz.</p>
<p>A PCB board has been designed, where two of the operational amplifiers are used to amplify the microphone output. Two additional amplifiers are used to create an active low pass filter at 10 kHz, to avoid aliases in the digital part of acquisition chain. This board is inserted in a plastic box, with an RCA connector for the microphone, a potentiometer to adjust the desired gain, and two jack outputs, one for the headphones and the other for the connection with an analog input of a microcontroller (a prototype is shown at Figure 5). The goal of this design is the modularity and flexibility of the device: different microphones may be connected to the amplifier, it can be used by a human operator listening through headphones, or it can be connected to the microcontroller for the autonomous detection.</p>
</blockquote>

<ul><li>Texas Instruments <a href="http://www.ti.com/product/tlv2785">TLV2785</a> operational amplifier</li></ul>

<p><strong>Bioacoustic Sensor: Software Description</strong></p>

<blockquote>
<p>In running mode, the first operation performed by the sensor node is to configure and initialize the audio system with the parameters established at the initialization stage (sample bits, sampling rate, window size, etc.). Then, a Signal-to-Noise Ratio (SNR) measurement test is executed to determine the actual noise level before the audio analysis procedure;</p>
<p>In our studies we have chosen 4096-sample fixed size windows with the minimal overlapping that prevents potential losses of RPW signals located at window edges.</p>
<p>Once we have captured a window of audio samples, we proceed to apply our RPW analysis algorithm. If this window contains one or more RPW audio signals, the analysis results are time stamped and stored as part of the running mode analysis report.</p>
</blockquote>

<p><strong>RPW Sound Model</strong></p>

<blockquote>
<p>We have classified three different kinds of sounds coming from RPW larvae: “eating”, “squealing” and “moving”.</p>
<p>For our study, we have chosen the first one, “eating”, because (1) it is the loudest sound, (2) its frequency is clearly superior to the other identified sounds in all available recordings, and (3) it is representative of the RPW larvae feeding actions in the first stages of their evolution.</p>
<p>Figure 7 shows a good example of “eating” sound that was extracted from the recordings above mentioned. We can see the “eating” sound in both temporal, Figure 7(a), and frequency domains, Figure 7(b). The later was obtained from a wavelet packet transform with five decomposition levels that equally divides the input audio signal bandwidth in 32 subbands (horizontal axis). For each wavelet subband, we have computed the normalized energy of its coefficients in order to visually determine the energy distribution. As it can be seen, in Figure 7(b), there are three subbands that accumulate most of the signal energy. Thus, energy distribution across wavelet subbands may be considered a spectral fingerprint of RPW feeding activity, being an important feature to be included in our RPW “eating” sound model.</p>
<p>We also analyze the “eating” sample in the temporal domain, determining its main duration in terms of audio samples. We need to determine the beginning and ending positions of “eating” sound inside captured audio window using three parameters: audio signal level, signal variance, and SNR level, as shown in Figure 7(a). With the SNR level we determine the noise domain present in the captured audio, which is the actual noise level plus a 6 dB margin. The beginning of a new sound will be determined by α consecutive samples which value is above noise domain; meanwhile, the ending of the new sound will be determined just before β consecutive samples, which value falls inside noise domain. Both parameters are empirically established to properly identify potential RPW sounds. It can be seen in Figure 7(a) that the RPW “eating” temporal extension is of 492 samples (around 11 milliseconds).</p>
</blockquote>

<p><div class="lightbox-wrapper"><a href="/uploads/default/145/8ccfdc3fe790c4d2.png" class="lightbox" title="yup.png"><img src="/uploads/default/_optimized/752/a4e/84afb62247_690x328.png" width="690" height="328"><div class="meta">
<span class="filename">yup.png</span><span class="informations">1307x622 195 KB</span><span class="expand"></span>
</div></a></div> </p>
          </blockquote>
          <p><a href="http://community.opensourcebeehives.net/t/research-audio-sensors/111/1">Read full topic</a></p>
        ]]></description>
        <link>http://community.opensourcebeehives.net/t/research-audio-sensors/111/1</link>
        <pubDate>Mon, 13 Oct 2014 18:10:11 -0400</pubDate>
        <guid isPermaLink="false">post-111-1</guid>
        <source url="http://community.opensourcebeehives.net/t/research-audio-sensors/111.rss">Research: Audio Sensors</source>
      </item>
  </channel>
</rss>
